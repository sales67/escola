<html>
<body>
    
    <br>
    <app-boto></app-boto>
    <br>
    
    
    <div *ngIf="error" class="alert alert-danger fade in alert-dismissable" style="margin-top:18px;">     
        <span class="error">Aquest ID no existeix</span> <br> <br>
    </div>
    
    <div *ngIf="errorServer" class="alert alert-danger fade in alert-dismissable" style="margin-top:18px;">     
        <span class="error">Error al servidor</span> <br> <br>
    </div>
    
    <div *ngIf="idProfe == null && finished == true" class="alert alert-danger fade in alert-dismissable" style="margin-top:18px;">     
        <span class="error">Falta l'identificador!!</span> <br> <br>
    </div>
    
    

    <h2>Introdueix l'ID d'un professor per consultar les seves dades:</h2>
    
    <form name="consultarUnProfeForm">
        <label for="idProfe">ID</label>
        <input type="text" name="idProfe" id="idProfe" [(ngModel)]="idProfe">
        <br><br>

        <h2>Selecciona la informació que vols visualitzar:</h2>

        <label>Nom: </label>
        <input type="checkbox" name="boolNom" [(ngModel)]="boolNom">
        <br>
        <label>Cognoms: </label>
        <input type="checkbox" name="boolCognoms" [(ngModel)]="boolCognoms">
        <br>
        <label>DNI: </label>
        <input type="checkbox" name="boolDni" [(ngModel)]="boolDni">
        <br>
        <label>Data de naixement: </label>
        <input type="checkbox" name="boolData" [(ngModel)]="boolData">
        <br>
        <label>Curs: </label>
        <input type="checkbox" name="boolCurs" [(ngModel)]="boolCurs">
        <br>
        <label>Esports: </label>
        <input type="checkbox" name="boolEsports" [(ngModel)]="boolEsports">
        <br>
        <label>Incidencies: </label>
        <input type="checkbox" name="boolIncidencies" [(ngModel)]="boolIncidencies">
        <br>

        <button (click)="consultarProfeJava()" type="submit" class="btn btn-default" [disabled]="!idProfe">CERCAR PROFESSOR (Java)</button>
        <button (click)="consultarProfePhp()" type="submit" class="btn btn-default" [disabled]="!idProfe">CERCAR PROFESSOR (PHP)</button>
        <br><br>
    </form>
    


<div *ngFor = 'let profe of profes'> <!-- Si no fem un bucle l'HTML mostra el nom dels camps sense els seus valors.. -->
    
    <h3>Dades personals</h3>
    <p *ngIf="boolNom">Nom: {{profe.nom}}</p>
    <p *ngIf="boolCognoms">Cognoms: {{profe.cognoms}}</p>
    <p *ngIf="boolDni">DNI: {{profe.dni}}</p>
    <p *ngIf="boolData">Data de naixement: {{profe.naixement}}</p>
    <br>
    
    <div *ngIf="boolCurs">
        <h3>Curs impartit</h3>
        <!--<div *ngFor ="let c of curs">--> <!-- NO CAL!! ja que sabem que sempre serà 1 valor retornat -->
        <p>Curs: {{profe.curs.nom}}</p>
        <p>Credits: {{profe.curs.credits}}</p>
        <!--</div>-->
        <br>
    </div>
    
    <div *ngIf="boolEsports">
        <h3>Esports practicats</h3>

        <div *ngFor = "let e of profe.esport; let i = index">
            <p>{{i+1}}- {{e.nom}}</p>
        </div>
        <br>
    </div>
    
    <div *ngIf="boolIncidencies">
        <h3>Incidències</h3>

        <div *ngFor = "let in of profe.incidencia">
            <p>{{in.incidencia}}</p>
        </div>
        
        <br>
    </div>
</div>

</body>
</html>